<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>
<title>Stock Control</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<h1>Stock Control</h1>
<div>
<input type="text" id="name" placeholder="Name">
<input type="text" id="quantity" placeholder="Quantity">
<input type="text" id="unitPrice" placeholder="Unit Price">
<button onclick="addStockItem()">Add Stock Item</button>
</div>
<div id="stockItems"></div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
function addStockItem() {
    // Get the values from the form
    var name = $("#name").val();
    var quantity = $("#quantity").val();
    var unitPrice = $("#unitPrice").val();

    // Create a new stock item
    var stockItem = {
        Name: name,
        Quantity: quantity,
        UnitPrice: unitPrice
    };

    // Add the stock item to the databasePai
    $.ajax({
        url: "/addStockItem",
        type: "POST",
        data: JSON.stringify(stockItem),
        contentType: "application/json",
        success: function(data) {
            // Refresh the stock items list
            refreshStockItems();
        }
    });
}

function refreshStockItems() {
    // Get the stock items from the database
    $.ajax({
        url: "/getStockItems",
        type: "GET",
        success: function(data) {
            // Populate the stock items list
            $("#stockItems").html(data);
        }
    });
}

$(document).ready(function() {
    refreshStockItems();
});

function removeStockItem(id) {
    // Get the stock item from the database
    $.ajax({
        url: "/removeStockItem/" + id,
        type: "GET",
        success: function(data) {
            // Refresh the stock items list
            refreshStockItems();
        }
    });
}

$(document).on("click", ".removeStockItem", function() {
    var id = $(this).data("id");
    removeStockItem(id);
});
</script>
</body>
</html>
